<template name="Pools_show_page">
  {{#if Template.subscriptionsReady}}
    {{> Pools_header poolId=poolId seasonId=seasonId }}

    {{> Pools_wins
      poolId=poolId
      seasonId=seasonId
      isCommissioner=isCommissioner
      poolTeamId=myPoolTeamId
    }}

    {{#if isLatestSeason}}
      {{> Pools_games_to_watch
        leagueId=leagueId
        seasonId=seasonId
        poolId=poolId
        poolTeamId=myPoolTeamId
      }}
    {{/if}}

    {{> Pools_pick_quality
      leagueId=leagueId
      seasonId=seasonId
      poolId=poolId
      tableTitle="Best Pick Quality"
      sort=-1
      poolTeamId=myPoolTeamId
    }}

    {{> Pools_pick_quality
      leagueId=leagueId
      seasonId=seasonId
      poolId=poolId
      tableTitle="Worst Pick Quality"
      sort=1
      poolTeamId=myPoolTeamId
    }}

    {{> Pools_head_to_head_records
      leagueId=leagueId
      seasonId=seasonId
      poolId=poolId
      poolTeamId=myPoolTeamId
      limit=5
    }}

    {{> Pools_season_switcher
      poolId=poolId
    }}

    {{#if isCommissioner}}
      {{#if isLatestSeason}}
        <a href="{{pathFor 'PoolTeams.new' poolId=poolId}}" id="PoolTeams_new">Add Player</a>
        <br/>
      {{/if}}
      <a href="{{pathFor 'Pools.edit' poolId=poolId}}" id="Pools_edit">Edit Pool</a>
    {{/if}}
    <br/>

    <a href="{{pathFor 'Pools.records' poolId=poolId}}" id="Pools_records">Records</a><br/>
  {{else}}
    <div>Loading...</div>
  {{/if}}
</template>
